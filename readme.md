# next-blog

Посмотрев как работает [11ty](https://github.com/mukhindev/test-11ty), захотелось подобного, но с React на борту. Чтобы просто кидал `.md`-документы, а блог сам формировался.

Был выбрал [Next.js](https://nextjs.org/), чтобы не изобретать велосипед рендера целого сайта в статику.

## Без дизайна

Ничего красиво запустив не получите =). У приложения нет дизайна. Я пока проверяю сам подход.

## Как работет?

При запуске `./next.config.js` выполняется `./data/createContext.js`.

Обычными `node`-методами определяется содержимое папки `./content` и её файлов.

Формируется контекст `./data/context.json`, в котором сохраняется список имеюшихся статей и их метаданных, таких как теги.

Для добавления методанных к `.md`-документам используется библиотка [gray-matter](https://github.com/jonschlinkert/gray-matter).

Next.js имеет метод `getStaticPaths()`, благодаря которму мы можем зарендерить в статику динамические роуты. В нашем контексте (`context.json`) есть списки `.md`-документов и метаданные которые можем использовать для страниц статей и тегов. См. `./pages/notes/[slug].js` и `./pages/tags/[slug].js`.

Метод Next.js `getStaticProps()` используем для наполнения данными соответствующих страниц.

Для серверного рендеринга такое решение похоже не очень. Страницы открываются медленно даже на локальной машине. А вот выведенная статика шустрая — собственно её получиние и есть цель.

## Запуск

Dev-сервер:

```bash
npm run dev
```

Вывести статику в `./build`

```bash
npm run build
```
